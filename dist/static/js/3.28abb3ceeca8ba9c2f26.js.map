{"version":3,"sources":["webpack:///./src/components/Register.vue?255e","webpack:///./src/components/Register.vue?1dde","webpack:///src/components/Register.vue","webpack:///./src/components/Register.vue","webpack:///./src/components/Login.vue?9e9c","webpack:///./src/components/Login.vue?1c41","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue"],"names":["components_Registervue_type_script_lang_js_","data","_this","this","regForm","username","password","checkPassword","rules","required","message","trigger","min","max","validator","rule","value","callback","test","Error","methods","resetForm","formName","$refs","resetFields","submitForm","_this2","validate","valid","axios","userRegister","then","res","success","$message","type","$router","push","path","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","ref","attrs","model","label-width","label","prop","$$v","$set","expression","_v","on","click","$event","__webpack_exports__","components_Loginvue_type_script_lang_js_","components","Register","activeName","loginForm","form","userLogin","token","$store","dispatch","redirectUrl","decodeURIComponent","$route","query","redirect","info","span","offset","name"],"mappings":"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","file":"static/js/3.28abb3ceeca8ba9c2f26.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"regForm\",attrs:{\"model\":_vm.regForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.regForm.username),callback:function ($$v) {_vm.$set(_vm.regForm, \"username\", $$v)},expression:\"regForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.regForm.password),callback:function ($$v) {_vm.$set(_vm.regForm, \"password\", $$v)},expression:\"regForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.regForm.checkPassword),callback:function ($$v) {_vm.$set(_vm.regForm, \"checkPassword\", $$v)},expression:\"regForm.checkPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('regForm')}}},[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('regForm')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <el-form :model=\"regForm\" :rules=\"rules\" label-width=\"100px\" ref=\"regForm\">\n            <el-form-item label=\"用户名\" prop=\"username\">\n                <el-input v-model=\"regForm.username\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"密码\" prop=\"password\">\n                <el-input v-model=\"regForm.password\" type=\"password\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"确认密码\" prop=\"checkPassword\">\n                <el-input v-model=\"regForm.checkPassword\" type=\"password\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"submitForm('regForm')\">注册</el-button>\n                <el-button @click=\"resetForm('regForm')\" >重置</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport api from '@/api/axios.js'\n\nexport default {\n  data () {\n    // 自定义验证规则\n    let validatePass1 = (rule, value, callback) => {\n      // 6-16位, 数字, 字母, 字符至少包含两种, 同时不能包含中文和空格\n      let reg = /(?!^[0-9]+$)(?!^[A-z]+$)(?!^[^A-z0-9]+$)^[^\\s\\u4e00-\\u9fa5]{6,16}$/\n      if (!reg.test(value)) {\n        callback(new Error('密码长度需6-16位，且包含字母和字符'))\n      } else {\n        callback()\n      }\n    }\n    // 验证密码是否重复\n    let validatePass2 = (rule, value, callback) => {\n      if (value !== this.regForm.password) {\n        callback(new Error('两次密码输入不一致'))\n      } else {\n        callback()\n      }\n    }\n\n    return {\n      regForm: {\n        username: '',\n        password: '',\n        checkPassword: ''\n      },\n      rules: {\n        username: [\n          {required: true, message: '用户名不能少', trigger: 'blur'},\n          {min: 6, max: 16, message: '用户名在6到16位之间', trigger: 'blur'}\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n          {validator: validatePass1, trigger: 'blur'}\n        ],\n        checkPassword: [\n          {required: true, message: '请再次输入密码', trigger: 'blur'},\n          {validator: validatePass2, trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  methods: {\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) { // 验证通过\n          api.userRegister(this.regForm)\n            .then((res) => {\n              if (res.data.success) {\n                this.$message({\n                  type: 'success',\n                  message: '注册成功'\n                })\n                this.$router.push({\n                  path: '/'\n                })\n              } else {\n                this.$message({\n                  type: 'info',\n                  message: '用户名已经存在'\n                })\n              }\n            })\n        } else { // 验证不通过\n          return false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=4911e5fa&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4911e5fa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":10,\"offset\":7}},[_c('el-tabs',{model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"登录\",\"name\":\"login\"}},[_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('loginForm')}}},[_vm._v(\"重置\")])],1)],1)],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"注册\",\"name\":\"register\"}},[_c('Register')],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@7.1.5@babel-loader/lib/index.js!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <el-row>\n            <el-col :span=\"10\" :offset=\"7\">\n            <!-- el-tabs放在这里其实不合理，可以提到App.vue里面。然后引入Login组件和Register组件 -->\n                <el-tabs v-model=\"activeName\">\n\n                    <el-tab-pane label=\"登录\" name=\"login\">\n                        <el-form :model=\"loginForm\" :rules=\"rules\" label-width=\"100px\" ref=\"loginForm\">\n                            <el-form-item label=\"用户名\" prop=\"username\">\n                                <el-input v-model=\"loginForm.username\"></el-input>\n                            </el-form-item>\n                            <el-form-item label=\"密码\" prop=\"password\">\n                                <el-input v-model=\"loginForm.password\" type=\"password\"></el-input>\n                            </el-form-item>\n                            <el-form-item>\n                                <el-button type=\"primary\" @click=\"submitForm('loginForm')\">提交</el-button>\n                                <el-button @click=\"resetForm('loginForm')\">重置</el-button>\n                            </el-form-item>\n                        </el-form>\n                    </el-tab-pane>\n\n                    <el-tab-pane label=\"注册\" name=\"register\">\n                        <Register></Register>\n                    </el-tab-pane>\n\n                </el-tabs>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport api from '@/api/axios.js'\n// 引入验证组件\nimport Register from './Register.vue'\n\nexport default {\n  components: {\n    Register\n  },\n  data () {\n    return {\n      activeName: 'login', // 选项卡\n      loginForm: { // 表单v-model的值\n        username: '',\n        password: ''\n      },\n      rules: { // 验证规则\n        username: [\n          {required: true, message: '用户名不能少', trigger: 'blur'},\n          {min: 6, max: 16, message: '用户名在6到16位之间', trigger: 'blur'}\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  methods: {\n    resetForm (formName) {\n      this.$refs[formName].resetFields()\n    },\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) { // 验证通过\n          let form = this.loginForm\n          api.userLogin(form)\n            .then((res) => {\n              // 账号存在\n              if (res.data.success) {\n                this.$message({\n                  type: 'success',\n                  message: '登录成功'\n                })\n                let token = res.data.token\n                let username = res.data.username\n                this.$store.dispatch('UserLogin', token)\n                this.$store.dispatch('UserName', username)\n                let redirectUrl = decodeURIComponent(this.$route.query.redirect || '/')\n                // 跳转到指定的路由\n                this.$router.push({\n                  path: redirectUrl\n                })\n              } else if (res.data.success === false) {\n                this.$message({\n                  type: 'info',\n                  message: res.data.info\n                })\n              }\n            })\n        } else {\n          // 验证不通过\n          return false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=7efeaa7e&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7efeaa7e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}